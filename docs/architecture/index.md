# Ordo Architecture Document (In Progress)

## Table of Contents

- [Ordo Architecture Document (In Progress)](#table-of-contents)
  - [1. Introduction](./1-introduction.md)
  - [2. High-Level Architecture](./2-high-level-architecture.md)
    - [2.1. Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2. High-Level Overview](./2-high-level-architecture.md#22-high-level-overview)
    - [2.3. High-Level Project Diagram](./2-high-level-architecture.md#23-high-level-project-diagram)
    - [2.4. Architectural and Design Patterns](./2-high-level-architecture.md#24-architectural-and-design-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
  - [4. Data Model Strategy](./4-data-model-strategy.md)
    - [Definitive Data Architecture Strategy (v4)](./4-data-model-strategy.md#definitive-data-architecture-strategy-v4)
      - [Part 1: Guiding Principles](./4-data-model-strategy.md#part-1-guiding-principles)
      - [Part 2: Model Definitions](./4-data-model-strategy.md#part-2-model-definitions)
      - [Part 3: Specific Strategies](./4-data-model-strategy.md#part-3-specific-strategies)
  - [5. Components](./5-components.md)
    - [5.1. Request Orchestrator — Specification](./5-components.md#51-request-orchestrator-specification)
    - [5.2. Broker Adapter Interface (IBrokerAdapter)](./5-components.md#52-broker-adapter-interface-ibrokeradapter)
    - [5.3. Session Manager](./5-components.md#53-session-manager)
    - [Persistence Component — Final Specification](./5-components.md#persistence-component-final-specification)
    - [5.5. Other System Components — Final Specification](./5-components.md#55-other-system-components-final-specification)
      - [1) API Server (FastAPI) — Refined Spec](./5-components.md#1-api-server-fastapi-refined-spec)
      - [2) Auth Middleware — Refined Spec](./5-components.md#2-auth-middleware-refined-spec)
      - [3) Audit & Logging — Refined Spec](./5-components.md#3-audit-logging-refined-spec)
      - [4) OTP Helper CLI — Refined Spec](./5-components.md#4-otp-helper-cli-refined-spec)
      - [5) Background Jobs Runner — Refined Spec](./5-components.md#5-background-jobs-runner-refined-spec)
      - [6) Cross-component Notes & Policies](./5-components.md#6-cross-component-notes-policies)
      - [7) Acceptance Criteria (minimal)](./5-components.md#7-acceptance-criteria-minimal)
  - [6. External APIs](./6-external-apis.md)
    - [6.1. Fyers API](./6-external-apis.md#61-fyers-api)
    - [6.2. HDFC Securities API](./6-external-apis.md#62-hdfc-securities-api)
    - [6.3. Mirae Asset m.Stock API](./6-external-apis.md#63-mirae-asset-mstock-api)
  - [7. Core Workflows](./7-core-workflows.md)
    - [7.1. Order Placement Workflow (v2)](./7-core-workflows.md#71-order-placement-workflow-v2)
  - [8. Database Schema](./8-database-schema.md)
    - [8.1. SQLite Schema (v2 Refined)](./8-database-schema.md#81-sqlite-schema-v2-refined)
  - [9. Source Tree](./9-source-tree.md)
    - [9.1. Refined Source Tree Layout](./9-source-tree.md#91-refined-source-tree-layout)
  - [10. Infrastructure and Deployment (v2 Refined)](./10-infrastructure-and-deployment-v2-refined.md)
    - [10.1. Infrastructure as Code (IaC)](./10-infrastructure-and-deployment-v2-refined.md#101-infrastructure-as-code-iac)
    - [10.2. Configuration Management](./10-infrastructure-and-deployment-v2-refined.md#102-configuration-management)
    - [10.3. CI/CD Pipeline (GitHub Actions)](./10-infrastructure-and-deployment-v2-refined.md#103-cicd-pipeline-github-actions)
    - [10.4. Running in Production](./10-infrastructure-and-deployment-v2-refined.md#104-running-in-production)
    - [10.5. Observability](./10-infrastructure-and-deployment-v2-refined.md#105-observability)
    - [10.6. Database Lifecycle](./10-infrastructure-and-deployment-v2-refined.md#106-database-lifecycle)
    - [10.7. Rollback Strategy](./10-infrastructure-and-deployment-v2-refined.md#107-rollback-strategy)
  - [11. Error Handling Strategy (v2 Refined)](./11-error-handling-strategy-v2-refined.md)
    - [11.1. General Approach & Exception Hierarchy](./11-error-handling-strategy-v2-refined.md#111-general-approach-exception-hierarchy)
    - [11.2. Error Code Registry](./11-error-handling-strategy-v2-refined.md#112-error-code-registry)
    - [11.3. Exception to HTTP Status Code Mapping](./11-error-handling-strategy-v2-refined.md#113-exception-to-http-status-code-mapping)
    - [11.4. Handling Specific Scenarios](./11-error-handling-strategy-v2-refined.md#114-handling-specific-scenarios)
    - [11.5. Security: Redaction](./11-error-handling-strategy-v2-refined.md#115-security-redaction)
    - [11.6. Observability: Error Metrics](./11-error-handling-strategy-v2-refined.md#116-observability-error-metrics)
  - [12. Coding Standards (Ordo Project)](./12-coding-standards-ordo-project.md)
    - [12.1. Core Standards & Tooling](./12-coding-standards-ordo-project.md#121-core-standards-tooling)
    - [12.2. Naming Conventions](./12-coding-standards-ordo-project.md#122-naming-conventions)
    - [12.3. Critical Implementation Rules](./12-coding-standards-ordo-project.md#123-critical-implementation-rules)
    - [12.4. Testing Standards](./12-coding-standards-ordo-project.md#124-testing-standards)
    - [12.5. Logging & Observability](./12-coding-standards-ordo-project.md#125-logging-observability)
    - [12.6. Documentation & Comments](./12-coding-standards-ordo-project.md#126-documentation-comments)
    - [12.7. Contribution & Workflow](./12-coding-standards-ordo-project.md#127-contribution-workflow)
  - [13. Test Strategy and Standards (v3 Final)](./13-test-strategy-and-standards-v3-final.md)
    - [13.1. Testing Philosophy](./13-test-strategy-and-standards-v3-final.md#131-testing-philosophy)
    - [13.2. Test Types and Organization](./13-test-strategy-and-standards-v3-final.md#132-test-types-and-organization)
      - [13.2.1. Unit Tests](./13-test-strategy-and-standards-v3-final.md#1321-unit-tests)
      - [13.2.2. Contract Tests](./13-test-strategy-and-standards-v3-final.md#1322-contract-tests)
      - [13.2.3. Integration Tests](./13-test-strategy-and-standards-v3-final.md#1323-integration-tests)
      - [13.2.4. Resilience Tests](./13-test-strategy-and-standards-v3-final.md#1324-resilience-tests)
      - [13.2.5. End-to-End (E2E) Smoke Tests](./13-test-strategy-and-standards-v3-final.md#1325-end-to-end-e2e-smoke-tests)
    - [13.3. Test Data and Environment](./13-test-strategy-and-standards-v3-final.md#133-test-data-and-environment)
    - [13.4. Observability and Security Testing](./13-test-strategy-and-standards-v3-final.md#134-observability-and-security-testing)
    - [13.5. Continuous Testing (CI/CD)](./13-test-strategy-and-standards-v3-final.md#135-continuous-testing-cicd)
  - [14. Security Specification (v2 Refined)](./14-security-specification-v2-refined.md)
    - [14.1. Input Validation](./14-security-specification-v2-refined.md#141-input-validation)
    - [14.2. Authentication & Authorization](./14-security-specification-v2-refined.md#142-authentication-authorization)
    - [14.3. Secrets Management](./14-security-specification-v2-refined.md#143-secrets-management)
    - [14.4. API Security](./14-security-specification-v2-refined.md#144-api-security)
    - [14.5. Data Protection](./14-security-specification-v2-refined.md#145-data-protection)
    - [14.6. Dependency & Container Security](./14-security-specification-v2-refined.md#146-dependency-container-security)
